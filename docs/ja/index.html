<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deno JUCE Project Generator</title>
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
</head>
<body>
    <header class="hero">
        <div class="container">
            <h1>Deno JUCE Project Generator</h1>
            <p class="tagline">URL一行でJUCEオーディオプラグインプロジェクトを生成</p>
            <div class="hero-buttons">
                <a href="#quick-start" class="btn btn-primary">Quick Start</a>
                <a href="https://github.com/cocotone/deno-juce-project-generator" class="btn btn-secondary">GitHub</a>
            </div>
        </div>
    </header>

    <nav class="navbar">
        <div class="container">
            <ul>
                <li><a href="index.html" class="active">Home</a></li>
                <li class="lang-switcher"><a href="../en/index.html">EN</a></li>
            </ul>
        </div>
    </nav>

    <main class="container">
        <section id="overview">
            <h2>Overview</h2>
            <p>
                このツールは、DenoのURL実行機能を活用したJUCEオーディオプラグインプロジェクトジェネレータです。
                URLを指定して<code>deno run</code>するだけで、すぐに使えるJUCEプラグインプロジェクトが生成されます。
                JUCEフレームワークはプロジェクト生成時にGitHubから自動的にクローンされます。
            </p>

            <div class="feature-grid">
                <div class="feature-card">
                    <div class="feature-icon">🎹</div>
                    <h3>JUCEオーディオプラグイン</h3>
                    <p>VST3、AU、StandaloneプラグインプロジェクトをモダンなCMakeセットアップで生成します。</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">🚀</div>
                    <h3>インストール不要</h3>
                    <p>Denoさえあれば、URLから直接実行できます。ツールのインストールは不要です。</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">🔧</div>
                    <h3>型安全なビルドシステム</h3>
                    <p>TypeScriptで書かれたビルドスクリプトにより、型安全なビルド自動化を実現します。</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">🌍</div>
                    <h3>クロスプラットフォーム</h3>
                    <p>Windows、macOS、Linuxで同じスクリプトが動作します。</p>
                </div>
            </div>
        </section>

        <section id="plugin-formats">
            <h2>生成されるプラグインフォーマット</h2>
            <div class="format-grid">
                <div class="format-card">
                    <div class="format-icon">🎛️</div>
                    <h4>VST3</h4>
                    <p>Windows, macOS, Linux</p>
                </div>
                <div class="format-card">
                    <div class="format-icon">🍎</div>
                    <h4>AU (Audio Unit)</h4>
                    <p>macOSのみ</p>
                </div>
                <div class="format-card">
                    <div class="format-icon">🖥️</div>
                    <h4>Standalone</h4>
                    <p>全プラットフォーム</p>
                </div>
            </div>
        </section>

        <section id="juce-license">
            <h2>JUCEライセンスに関する注意</h2>
            <div class="notice-box">
                <p><strong>重要:</strong> <a href="https://juce.com/">JUCE</a> は Raw Material Software Limited が所有する商用/オープンソースフレームワークです。</p>
                <p>このジェネレータを使用する際は、JUCEのライセンス条項を遵守する必要があります：</p>
                <ul>
                    <li><strong>個人/小規模商用利用:</strong> <a href="https://juce.com/legal/juce-8-licence/">JUCE Starter license</a> の下で無料で使用可能（年間収益$20,000まで、商用製品のリリース可）</li>
                    <li><strong>教育利用:</strong> <a href="https://juce.com/legal/juce-8-licence/">JUCE Educational license</a> の下で無料で使用可能（大学・学校・認定オンラインコースでの教育目的に限定、商用利用不可）</li>
                    <li><strong>商用利用:</strong> 年間収益$20,000超の場合、JUCEの商用ライセンス（Indie: $300,000まで / Pro: 無制限）が必要</li>
                    <li><strong>オープンソース:</strong> AGPLv3の下で利用可能</li>
                </ul>
                <p>このジェネレータで作成したプラグインを配布する前に、<a href="https://juce.com/legal/juce-8-licence/">JUCEライセンス</a> を確認してください。</p>
                <p>このジェネレータはプロジェクト生成時に <a href="https://github.com/juce-framework/JUCE">https://github.com/juce-framework/JUCE</a> からJUCEをクローンします。JUCEフレームワーク自体はこのリポジトリには含まれていません。</p>
            </div>
        </section>

        <section id="quick-start">
            <h2>Quick Start</h2>

            <h3>Step 1: Denoをインストール</h3>
            <p>まだDenoをインストールしていない場合：</p>

            <div class="code-tabs">
                <button class="tab-btn active" data-tab="mac">macOS/Linux</button>
                <button class="tab-btn" data-tab="win">Windows</button>
            </div>
            <div class="tab-content active" id="mac">
                <pre><code class="language-bash">curl -fsSL https://deno.land/install.sh | sh</code></pre>
            </div>
            <div class="tab-content" id="win">
                <pre><code class="language-powershell">irm https://deno.land/install.ps1 | iex</code></pre>
            </div>

            <h3>Step 2: プラグインプロジェクトを生成</h3>
            <div class="code-block">
                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                <pre><code class="language-bash">deno run --allow-read --allow-write --allow-run --allow-net --allow-env https://raw.githubusercontent.com/cocotone/deno-juce-project-generator/main/generator/generate.ts --name "MyAudioPlugin" --author "Your Name" --output ./my-audio-plugin --with-git</code></pre>
            </div>

            <h3>Step 3: ビルド & 実行</h3>
            <pre><code class="language-bash">cd my-audio-plugin
deno task build        # プラグインをビルド
deno task run          # Standaloneアプリを実行</code></pre>
        </section>

        <section id="options">
            <h2>コマンドオプション</h2>
            <div class="options-table">
                <table>
                    <thead>
                        <tr>
                            <th>オプション</th>
                            <th>短縮形</th>
                            <th>デフォルト</th>
                            <th>説明</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>--name</code></td>
                            <td><code>-n</code></td>
                            <td>MyPlugin</td>
                            <td>プラグイン名</td>
                        </tr>
                        <tr>
                            <td><code>--author</code></td>
                            <td><code>-a</code></td>
                            <td>Your Name</td>
                            <td>作者/会社名</td>
                        </tr>
                        <tr>
                            <td><code>--version</code></td>
                            <td><code>-v</code></td>
                            <td>0.0.1</td>
                            <td>プラグインバージョン</td>
                        </tr>
                        <tr>
                            <td><code>--output</code></td>
                            <td><code>-o</code></td>
                            <td>(プラグイン名)</td>
                            <td>出力ディレクトリ</td>
                        </tr>
                        <tr>
                            <td><code>--manufacturer-code</code></td>
                            <td></td>
                            <td>Manu</td>
                            <td>4文字のメーカーコード</td>
                        </tr>
                        <tr>
                            <td><code>--plugin-code</code></td>
                            <td></td>
                            <td>Plug</td>
                            <td>4文字のプラグインコード</td>
                        </tr>
                        <tr>
                            <td><code>--juce-tag</code></td>
                            <td></td>
                            <td>master</td>
                            <td>JUCEのgitタグ/ブランチ</td>
                        </tr>
                        <tr>
                            <td><code>--with-git</code></td>
                            <td></td>
                            <td>false</td>
                            <td>Gitリポジトリを初期化</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <section id="generated-structure">
            <h2>生成されるプロジェクト構造</h2>
            <pre><code class="language-text">&lt;plugin-name&gt;/
├── CMakeLists.txt          # JUCEプラグイン用CMake設定
├── deno.json               # Denoタスク設定
├── build.ts                # ビルドスクリプト (TypeScript/Deno)
├── build.config.ts         # ビルド設定
├── cmake-file-api.ts       # CMake File API統合
├── cmake-types.ts          # TypeScript型定義
├── .gitignore
├── External/
│   └── JUCE/               # JUCEフレームワーク (git clone)
└── Source/
    ├── PluginProcessor.h   # オーディオプロセッサヘッダー
    ├── PluginProcessor.cpp # オーディオプロセッサ実装
    ├── PluginEditor.h      # プラグインエディタ (GUI) ヘッダー
    └── PluginEditor.cpp    # プラグインエディタ実装</code></pre>
        </section>

        <section id="build-tasks">
            <h2>利用可能なビルドタスク</h2>
            <table>
                <thead>
                    <tr>
                        <th>タスク</th>
                        <th>説明</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>deno task build</code></td>
                        <td>Releaseモードでビルド</td>
                    </tr>
                    <tr>
                        <td><code>deno task build:debug</code></td>
                        <td>Debugモードでビルド</td>
                    </tr>
                    <tr>
                        <td><code>deno task clean</code></td>
                        <td>ビルドディレクトリを削除</td>
                    </tr>
                    <tr>
                        <td><code>deno task rebuild</code></td>
                        <td>クリーンして再ビルド</td>
                    </tr>
                    <tr>
                        <td><code>deno task run</code></td>
                        <td>ビルドしてStandaloneを実行</td>
                    </tr>
                    <tr>
                        <td><code>deno task run:debug</code></td>
                        <td>DebugビルドしてStandaloneを実行</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id="requirements">
            <h2>必要条件</h2>
            <ul class="tech-list">
                <li>
                    <strong>Deno</strong> - v1.40以上
                    <a href="https://deno.land/">deno.land</a>
                </li>
                <li>
                    <strong>CMake</strong> - 3.22以上
                    <a href="https://cmake.org/">cmake.org</a>
                </li>
                <li>
                    <strong>Git</strong> - JUCEのクローン用
                    <a href="https://git-scm.com/">git-scm.com</a>
                </li>
                <li>
                    <strong>C++コンパイラ</strong> - Visual Studio 2022 (Windows)、Xcode (macOS)、GCC 8+ (Linux)
                </li>
            </ul>
        </section>

        <section id="technologies">
            <h2>使用技術</h2>
            <ul class="tech-list">
                <li>
                    <strong>JUCE</strong> - オーディオアプリケーション用クロスプラットフォームC++フレームワーク
                    <a href="https://juce.com/">juce.com</a>
                </li>
                <li>
                    <strong>Deno</strong> - セキュアなTypeScript/JavaScriptランタイム
                    <a href="https://deno.land/">deno.land</a>
                </li>
                <li>
                    <strong>dax</strong> - Denoのクロスプラットフォームシェルツール
                    <a href="https://jsr.io/@david/dax">jsr.io/@david/dax</a>
                </li>
                <li>
                    <strong>CMake</strong> - クロスプラットフォームビルドシステム
                    <a href="https://cmake.org/">cmake.org</a>
                </li>
            </ul>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>
                <a href="https://github.com/cocotone/deno-juce-project-generator">GitHub Repository</a> |
                BSD 3-Clause License
            </p>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-powershell.min.js"></script>
    <script>
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const tabId = btn.dataset.tab;
                document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                btn.classList.add('active');
                document.getElementById(tabId).classList.add('active');
            });
        });

        function copyCode(btn) {
            const codeBlock = btn.parentElement.querySelector('code');
            const text = codeBlock.textContent;
            navigator.clipboard.writeText(text).then(() => {
                btn.textContent = 'Copied!';
                btn.classList.add('copied');
                setTimeout(() => {
                    btn.textContent = 'Copy';
                    btn.classList.remove('copied');
                }, 2000);
            });
        }
    </script>
</body>
</html>
